<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 840 380">
  <defs>
    <linearGradient id="primaryGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#6366f1"/>
      <stop offset="100%" style="stop-color:#8b5cf6"/>
    </linearGradient>
    <linearGradient id="greenGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981"/>
      <stop offset="100%" style="stop-color:#34d399"/>
    </linearGradient>
    <linearGradient id="blueGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0ea5e9"/>
      <stop offset="100%" style="stop-color:#38bdf8"/>
    </linearGradient>
    <linearGradient id="amberGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b"/>
      <stop offset="100%" style="stop-color:#fbbf24"/>
    </linearGradient>
    <linearGradient id="pinkGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ec4899"/>
      <stop offset="100%" style="stop-color:#f472b6"/>
    </linearGradient>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f172a"/>
      <stop offset="100%" style="stop-color:#1e293b"/>
    </linearGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <filter id="softGlow">
      <feGaussianBlur stdDeviation="6" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <clipPath id="clipFlow1">
      <rect x="130" y="180" width="80" height="20"/>
    </clipPath>
    <clipPath id="clipFlow2">
      <rect x="350" y="180" width="80" height="20"/>
    </clipPath>
    <clipPath id="clipFlowOut">
      <rect x="570" y="75" width="95" height="250"/>
    </clipPath>
  </defs>

  <style>
    .label { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-weight: 600; }
    .sublabel { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-weight: 500; }
    .feature { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 9px; fill: #94a3b8; }
    .layer-label { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 9px; fill: #64748b; text-transform: uppercase; letter-spacing: 0.5px; }

    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.6; } }
    @keyframes flow1 { 0% { transform: translateX(0); opacity: 0; } 5% { opacity: 1; } 95% { opacity: 1; } 100% { transform: translateX(65px); opacity: 0; } }
    @keyframes flow2 { 0% { transform: translateX(0); opacity: 0; } 5% { opacity: 1; } 95% { opacity: 1; } 100% { transform: translateX(65px); opacity: 0; } }
    @keyframes flowUp { 0% { transform: translate(0, 0); opacity: 0; } 5% { opacity: 1; } 95% { opacity: 1; } 100% { transform: translate(80px, -75px); opacity: 0; } }
    @keyframes flowMid { 0% { transform: translate(0, 0); opacity: 0; } 5% { opacity: 1; } 95% { opacity: 1; } 100% { transform: translate(80px, 0); opacity: 0; } }
    @keyframes flowDown { 0% { transform: translate(0, 0); opacity: 0; } 5% { opacity: 1; } 95% { opacity: 1; } 100% { transform: translate(80px, 75px); opacity: 0; } }

    .packet-in1 { animation: flow1 0.4s linear infinite; }
    .packet-in2 { animation: flow1 0.4s linear infinite 0.13s; }
    .packet-in3 { animation: flow1 0.4s linear infinite 0.26s; }
    .packet-mid1 { animation: flow2 0.4s linear infinite 0.05s; }
    .packet-mid2 { animation: flow2 0.4s linear infinite 0.18s; }
    .packet-mid3 { animation: flow2 0.4s linear infinite 0.31s; }
    .packet-out1 { animation: flowUp 0.3s linear infinite; }
    .packet-out2 { animation: flowMid 0.3s linear infinite; }
    .packet-out3 { animation: flowDown 0.3s linear infinite; }
    .packet-out1b { animation: flowUp 0.3s linear infinite 0.15s; }
    .packet-out2b { animation: flowMid 0.3s linear infinite 0.15s; }
    .packet-out3b { animation: flowDown 0.3s linear infinite 0.15s; }
    .pulse { animation: pulse 1.5s ease-in-out infinite; }
  </style>

  <!-- Background -->
  <rect width="840" height="380" rx="16" fill="url(#bgGrad)"/>

  <!-- Subtle grid pattern -->
  <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
    <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#334155" stroke-width="0.5" opacity="0.3"/>
  </pattern>
  <rect width="840" height="380" fill="url(#grid)" rx="16"/>

  <!-- Glow effects -->
  <ellipse cx="85" cy="190" rx="50" ry="70" fill="#6366f1" opacity="0.08" filter="url(#softGlow)"/>
  <ellipse cx="280" cy="190" rx="70" ry="90" fill="#ec4899" opacity="0.08" filter="url(#softGlow)"/>
  <ellipse cx="500" cy="190" rx="80" ry="100" fill="#8b5cf6" opacity="0.1" filter="url(#softGlow)"/>
  <ellipse cx="750" cy="190" rx="70" ry="110" fill="#0ea5e9" opacity="0.08" filter="url(#softGlow)"/>

  <!-- Connection lines -->
  <line x1="135" y1="190" x2="205" y2="190" stroke="#475569" stroke-width="2" opacity="0.5"/>
  <line x1="355" y1="190" x2="425" y2="190" stroke="#475569" stroke-width="2" opacity="0.5"/>
  <line x1="575" y1="115" x2="660" y2="115" stroke="url(#greenGrad)" stroke-width="2" opacity="0.5"/>
  <line x1="575" y1="190" x2="660" y2="190" stroke="url(#blueGrad)" stroke-width="2" opacity="0.5"/>
  <line x1="575" y1="265" x2="660" y2="265" stroke="url(#amberGrad)" stroke-width="2" opacity="0.5"/>

  <!-- Clients -->
  <g class="pulse">
    <rect x="20" y="115" width="115" height="150" rx="10" fill="#1e293b" stroke="#334155" stroke-width="1"/>
    <rect x="20" y="115" width="115" height="30" rx="10" fill="url(#primaryGrad)"/>
    <rect x="20" y="135" width="115" height="10" fill="url(#primaryGrad)"/>
    <text x="77" y="137" text-anchor="middle" class="label" font-size="12" fill="white">Clients</text>
    <text x="77" y="165" text-anchor="middle" class="feature">Applications</text>
    <text x="77" y="180" text-anchor="middle" class="feature">AI Agents</text>
    <text x="77" y="195" text-anchor="middle" class="feature">Chat UIs</text>
    <text x="77" y="210" text-anchor="middle" class="feature">API Services</text>
  </g>

  <!-- Gateway Layer -->
  <text x="280" y="55" text-anchor="middle" class="layer-label">Gateway Layer</text>
  <rect x="205" y="65" width="150" height="250" rx="12" fill="#1e293b" stroke="#ec4899" stroke-width="2"/>
  <rect x="205" y="65" width="150" height="32" rx="12" fill="url(#pinkGrad)"/>
  <rect x="205" y="85" width="150" height="12" fill="url(#pinkGrad)"/>
  <text x="280" y="88" text-anchor="middle" class="label" font-size="12" fill="white">Gateway</text>

  <!-- Gateway features -->
  <g>
    <rect x="215" y="110" width="130" height="24" rx="6" fill="#334155"/>
    <circle cx="228" cy="122" r="3" fill="#f472b6"/>
    <text x="240" y="126" class="feature" font-size="9" fill="#e2e8f0">Rate Limiter</text>
  </g>
  <g>
    <rect x="215" y="140" width="130" height="24" rx="6" fill="#334155"/>
    <circle cx="228" cy="152" r="3" fill="#a78bfa"/>
    <text x="240" y="156" class="feature" font-size="9" fill="#e2e8f0">OIDC Auth</text>
  </g>
  <g>
    <rect x="215" y="170" width="130" height="24" rx="6" fill="#334155"/>
    <circle cx="228" cy="182" r="3" fill="#38bdf8"/>
    <text x="240" y="186" class="feature" font-size="9" fill="#e2e8f0">WebAssembly</text>
  </g>
  <g>
    <rect x="215" y="200" width="130" height="24" rx="6" fill="#334155"/>
    <circle cx="228" cy="212" r="3" fill="#34d399"/>
    <text x="240" y="216" class="feature" font-size="9" fill="#e2e8f0">Metrics</text>
  </g>
  <g>
    <rect x="215" y="230" width="130" height="24" rx="6" fill="#334155"/>
    <circle cx="228" cy="242" r="3" fill="#fbbf24"/>
    <text x="240" y="246" class="feature" font-size="9" fill="#e2e8f0">OpenTelemetry</text>
  </g>
  <g>
    <rect x="215" y="260" width="130" height="24" rx="6" fill="#334155"/>
    <circle cx="228" cy="272" r="3" fill="#fb7185"/>
    <text x="240" y="276" class="feature" font-size="9" fill="#e2e8f0">Multi-Tenant</text>
  </g>

  <!-- Router Layer -->
  <text x="500" y="55" text-anchor="middle" class="layer-label">Router Layer</text>
  <rect x="425" y="65" width="150" height="250" rx="12" fill="#1e293b" stroke="#8b5cf6" stroke-width="2"/>
  <rect x="425" y="65" width="150" height="32" rx="12" fill="url(#primaryGrad)"/>
  <rect x="425" y="85" width="150" height="12" fill="url(#primaryGrad)"/>
  <text x="500" y="88" text-anchor="middle" class="label" font-size="12" fill="white">Router</text>

  <!-- Router features -->
  <g>
    <rect x="435" y="110" width="130" height="24" rx="6" fill="#334155"/>
    <circle cx="448" cy="122" r="3" fill="#10b981"/>
    <text x="460" y="126" class="feature" font-size="9" fill="#e2e8f0">Tokenization</text>
  </g>
  <g>
    <rect x="435" y="140" width="130" height="24" rx="6" fill="#334155"/>
    <circle cx="448" cy="152" r="3" fill="#0ea5e9"/>
    <text x="460" y="156" class="feature" font-size="9" fill="#e2e8f0">Chat History</text>
  </g>
  <g>
    <rect x="435" y="170" width="130" height="24" rx="6" fill="#334155"/>
    <circle cx="448" cy="182" r="3" fill="#8b5cf6"/>
    <text x="460" y="186" class="feature" font-size="9" fill="#e2e8f0">Function Calls</text>
  </g>
  <g>
    <rect x="435" y="200" width="130" height="24" rx="6" fill="#334155"/>
    <circle cx="448" cy="212" r="3" fill="#f59e0b"/>
    <text x="460" y="216" class="feature" font-size="9" fill="#e2e8f0">Reasoning</text>
  </g>
  <g>
    <rect x="435" y="230" width="130" height="24" rx="6" fill="#334155"/>
    <circle cx="448" cy="242" r="3" fill="#ef4444"/>
    <text x="460" y="246" class="feature" font-size="9" fill="#e2e8f0">MCP Execution</text>
  </g>
  <g>
    <rect x="435" y="260" width="130" height="24" rx="6" fill="#334155"/>
    <circle cx="448" cy="272" r="3" fill="#14b8a6"/>
    <text x="460" y="276" class="feature" font-size="9" fill="#e2e8f0">Load Balancing</text>
  </g>
  <g>
    <rect x="435" y="290" width="130" height="22" rx="6" fill="#334155"/>
    <circle cx="448" cy="301" r="3" fill="#f472b6"/>
    <text x="460" y="305" class="feature" font-size="9" fill="#e2e8f0">Circuit Breaker</text>
  </g>

  <!-- gRPC Workers -->
  <rect x="660" y="70" width="145" height="90" rx="10" fill="#1e293b" stroke="#10b981" stroke-width="2"/>
  <rect x="660" y="70" width="145" height="24" rx="10" fill="url(#greenGrad)"/>
  <rect x="660" y="82" width="145" height="12" fill="url(#greenGrad)"/>
  <text x="732" y="88" text-anchor="middle" class="label" font-size="10" fill="white">gRPC Workers</text>
  <text x="732" y="110" text-anchor="middle" class="feature">vLLM / SGLang / TRT-LLM</text>
  <text x="732" y="124" text-anchor="middle" class="feature">Raw Inference + PD</text>
  <text x="732" y="138" text-anchor="middle" class="feature">Max Performance</text>

  <!-- HTTP Workers -->
  <rect x="660" y="170" width="145" height="75" rx="10" fill="#1e293b" stroke="#0ea5e9" stroke-width="2"/>
  <rect x="660" y="170" width="145" height="24" rx="10" fill="url(#blueGrad)"/>
  <rect x="660" y="182" width="145" height="12" fill="url(#blueGrad)"/>
  <text x="732" y="188" text-anchor="middle" class="label" font-size="10" fill="white">HTTP Workers</text>
  <text x="732" y="210" text-anchor="middle" class="feature">vLLM / SGLang / TRT-LLM</text>
  <text x="732" y="224" text-anchor="middle" class="feature">OpenAI-Compatible</text>

  <!-- External APIs -->
  <rect x="660" y="255" width="145" height="75" rx="10" fill="#1e293b" stroke="#f59e0b" stroke-width="2"/>
  <rect x="660" y="255" width="145" height="24" rx="10" fill="url(#amberGrad)"/>
  <rect x="660" y="267" width="145" height="12" fill="url(#amberGrad)"/>
  <text x="732" y="273" text-anchor="middle" class="label" font-size="10" fill="#1e293b">External APIs</text>
  <text x="732" y="295" text-anchor="middle" class="feature">OpenAI / Claude / Gemini</text>
  <text x="732" y="309" text-anchor="middle" class="feature">Groq / Together / Bedrock</text>

  <!-- Animated packets - Client to Gateway (clipped) -->
  <g clip-path="url(#clipFlow1)">
    <circle cx="140" cy="190" r="4" fill="#f472b6" class="packet-in1" filter="url(#glow)"/>
    <circle cx="140" cy="190" r="4" fill="#a78bfa" class="packet-in2" filter="url(#glow)"/>
    <circle cx="140" cy="190" r="4" fill="#ec4899" class="packet-in3" filter="url(#glow)"/>
  </g>

  <!-- Animated packets - Gateway to Router (clipped) -->
  <g clip-path="url(#clipFlow2)">
    <circle cx="360" cy="190" r="4" fill="#818cf8" class="packet-mid1" filter="url(#glow)"/>
    <circle cx="360" cy="190" r="4" fill="#a78bfa" class="packet-mid2" filter="url(#glow)"/>
    <circle cx="360" cy="190" r="4" fill="#6366f1" class="packet-mid3" filter="url(#glow)"/>
  </g>

  <!-- Animated packets - Router to Workers (clipped) - parallel burst -->
  <g clip-path="url(#clipFlowOut)">
    <!-- First wave - simultaneous -->
    <circle cx="580" cy="190" r="3" fill="#34d399" class="packet-out1" filter="url(#glow)"/>
    <circle cx="580" cy="190" r="3" fill="#38bdf8" class="packet-out2" filter="url(#glow)"/>
    <circle cx="580" cy="190" r="3" fill="#fbbf24" class="packet-out3" filter="url(#glow)"/>
    <!-- Second wave - simultaneous, offset -->
    <circle cx="580" cy="190" r="3" fill="#34d399" class="packet-out1b" filter="url(#glow)"/>
    <circle cx="580" cy="190" r="3" fill="#38bdf8" class="packet-out2b" filter="url(#glow)"/>
    <circle cx="580" cy="190" r="3" fill="#fbbf24" class="packet-out3b" filter="url(#glow)"/>
  </g>

  <!-- Bottom tagline -->
  <text x="420" y="360" text-anchor="middle" class="sublabel" font-size="12" fill="#64748b">One API  •  Any Backend  •  Enterprise Reliability</text>
</svg>